<div id="search" class="box">
  <div class="one-col box-top">
    <h3 class="box-title"><%= _("Search") %></h3>
  </div>
  <div class="one-col box-body">
    <% form_tag({ :controller => 'articles', :action => 'search' },
                { :method => 'get', :id => 'sform' }) do -%>
      <p><input type="text" id="q" name="q" value="" /></p>
      <div id="loading" class="loading" style="display:none;"><%= _("Searching")%>...</div>
      <div id="results" class="results"></div>
    <% end -%>
    <div class="clear"></div>
  </div>
  <%= observe_field 'q',
                    :url        => { :controller => 'live', :action => 'search' },
                    :frequency  => 1,
                    :loading    => "Element.show('loading')",
                    :complete   => "Element.hide('loading')",
                    :update     => 'results',
                    :with       => "'q=' + encodeURIComponent($F('q'))" %>
  <div class="one-col box-bottom"></div>
</div>